<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20241031 模拟赛题解 - Alexxtl的博客</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
    
    <style>
        body { background-size: cover; background-position: center; background-attachment: fixed; font-family: 'Noto Sans SC', sans-serif; transition: background-image 1s ease-in-out; }
        .card { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); border: 1px solid rgba(0,0,0,0.05); }
        html { scroll-behavior: smooth; }
        pre[class*="language-"] { padding: 1rem; margin: 1.5rem 0; border-radius: 0.5rem; }
        :not(pre) > code {
            background-color: #f3f4f6;
            color: #be123c;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto p-4 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-5xl font-bold text-gray-900 tracking-wider">Alexxtl的博客</h1>
            <p class="text-gray-600 mt-2">记录、分享、成长</p>
        </header>
        <div class="flex flex-col lg:flex-row gap-8">
            <aside class="w-full lg:w-1/4 flex-shrink-0">
                <div class="space-y-8">
                    <div class="bg-white/70 backdrop-blur-sm rounded-xl p-6 text-center card">
                        <img src="images/avatar.png" alt="博主头像" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-lg">
                        <h2 class="text-2xl font-bold">Alexxtl</h2>
                        <p class="text-gray-600 mt-2">一个热爱技术与生活的开发者。</p>
                        <div class="flex justify-center flex-wrap gap-x-4 gap-y-2 mt-4">
                            <a href="https://github.com/Alexxtl" target="_blank" class="text-gray-500 hover:text-indigo-600 transition-colors">GitHub</a>
                            <a href="https://www.luogu.com.cn/user/598187" target="_blank" class="text-gray-500 hover:text-indigo-600 transition-colors">Luogu</a>
                            <a href="https://blog.csdn.net/Alexxtl" target="_blank" class="text-gray-500 hover:text-indigo-600 transition-colors">CSDN</a>
                            <a href="https://codeforces.com/profile/Alex_xtl" target="_blank" class="text-gray-500 hover:text-indigo-600 transition-colors">Codeforces</a>
                            <a href="https://atcoder.jp/users/xiaotianlin" target="_blank" class="text-gray-500 hover:text-indigo-600 transition-colors">AtCoder</a>
                        </div>
                    </div>
                    <div class="bg-white/70 backdrop-blur-sm rounded-xl p-6 card">
                        <h3 class="text-xl font-bold mb-4 border-b pb-2">文章标签</h3>
                        <div class="flex flex-wrap gap-2">
                           
                        </div>
                    </div>
                    <div class="bg-white/70 backdrop-blur-sm rounded-xl p-6 card">
                        <h3 class="text-xl font-bold mb-4 border-b pb-2">友情链接</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li><a href="https://blog.csdn.net/BabyFalse?type=blog" class="hover:text-indigo-600 transition-colors" target="_blank">xwj</a></li>
                            <li><a href="https://www.cnblogs.com/MrSWdAxiv" class="hover:text-indigo-600 transition-colors" target="_blank">fzy</a></li>
                        </ul>
                    </div>
                </div>
            </aside>
            <main class="w-full lg:flex-grow bg-white/70 backdrop-blur-sm rounded-xl p-8 lg:p-12 card">
                <a href="https://alexxtl.github.io/blog/" class="text-indigo-600 hover:underline mb-6 inline-block">&larr; 返回首页</a>
                <h1 class="text-4xl font-bold mb-4 text-gray-900">20241031 模拟赛题解</h1>
                <div class="text-gray-500 mb-8 border-b pb-4">
                    <span>发布于：2025年09月20日</span> | 
                    <span>作者：Alexxtl</span> | 
                    <span>分类：<a href="#" class="text-purple-600 hover:underline">未分类</a></span>
                </div>
                <article class="prose prose-lg max-w-none text-gray-800">
<p><a href="https://www.cnblogs.com/Alexxtl/p/18518466" class="text-indigo-600 hover:underline" target="_blank"><strong>更好的阅读体验</strong></a></p>
<h1 class="text-3xl font-bold mt-10 mb-5">T1</h1>
<h2 class="text-2xl font-bold mt-8 mb-4">题目描述</h2>
<p>给定一个圆形蛋糕，被 $n$ 条切割线分成 $n$ 个扇形蛋糕块，按照顺时针编号，第 $i$ 块上有 $a_i$ 个草莓，第 $i$ 条切割线到第 $i+1$ 条切割线之间的部分是第 $i$ 块蛋糕。</p>
<p>Alice 和 Bob 流选择切割线，假设 Alice 选择了第 $i$ 条切割线，Bob选择了第 $j$ 条切割线，$j$ 不能等于 $i$。则 Alice 获得从第 $i$ 条切割线顺时针到第 $j$ 条切割线之间的蛋糕，Bob获得剩余蛋糕。Alice 的平均草莓数若大于等于 Bob 的平均草莓数，则 Alice 获胜，否则 Bob 获胜。求使 Alice 必胜的最小切割线编号，不存在则输出 $-1$。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">输入格式</h2>
<p>第一行一个正整数 $n$</p>
<p>。</p>
<p>第二行 $n$ 个正整数 $a_i$ 表示第 $i$ 块内的草莓数量。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">输出格式</h2>
<p>一个整数，即为答案。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">样例</h2>
<p>### 样例输入1</p>
<pre><code class="language-plain">3
3 8 5
</code></pre>
<p>### 样例输出1</p>
<pre><code class="language-plain">2
</code></pre>
<p>Alice 在 $3$ 和 $8$ 之间切一刀，Alice要么会拿到 $8$ 要么会拿到 $8$ 和 $5$，都可以获胜。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">数据范围</h2>
<p>对于所有数据 $1<n≤500000,1≤ai≤500000$。</p>
<p>对于 $50 \%$ 的数据 $n≤1000$。</p>
<p>对于 $100 \%$ 的数据无特殊限制。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">解法说明</h2>
<p>可将每个 $a_i$ 转化为其与所有数字的平均值之间的差，对新的 $a_i$ 做前缀和，则当 Alice 选 $i$，Bob 选 $j$ 时，如 $sum_{j-1} - sum_{i-1} ≥ 0$，则 Alice 胜。故 Alice 应选 $sum_{i-1}$ 最小的点后面的切割线，此时无论 Bob 如何选择都必败。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">通过代码</h2>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;

#define int long long
const int N=5e5+10;

namespace IO{
	inline int read(){
		int x=0,f=1;char ch=getchar();
		while(ch&lt;&apos;0&apos;||ch&gt;&apos;9&apos;) f=(ch==&apos;-&apos;?-1:f),ch=getchar();
		while(ch&gt;=&apos;0&apos;&amp;&amp;ch&lt;=&apos;9&apos;) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48),ch=getchar();
		return x*f;
	}

	inline void write(int x){
		if(x&lt;0) putchar(&apos;-&apos;),x=-x;
		if(x&gt;9) write(x/10);
		putchar(x%10+&apos;0&apos;);
	}
}using namespace IO;

namespace code{
	int n,a[N],sum[N],ans;

	void solve(){
		n=read();
		for(int i=1;i&lt;=n;i++) a[i]=read(),sum[i]=sum[i-1]+a[i];
		for(int i=1;i&lt;=n;i++) a[i]=a[i]*n-sum[n];
		for(int i=1;i&lt;n;i++) sum[i]=sum[i-1]+a[i],ans=(sum[i]&lt;sum[ans]?i:ans);
		write(ans+1);
	}
}

signed main(){
	code::solve();
	return 0;
}
</code></pre>
<h1 class="text-3xl font-bold mt-10 mb-5">T2</h1>
<h2 class="text-2xl font-bold mt-8 mb-4">题目描述</h2>
<p>游乐园有 $n$ 个项目，第 $i$ 个项目直接排队要 $a_i$ 分钟，使用优速通需要排队 $b_i$ 分钟。你有 $k$ 张优速通票，也就是意味着你可以选不超过 $k$ 个项目使用优速通。你一共有 $t$ 分钟，这里忽略除了排队以外的其他时间。你想知道你最多可以玩多少个不同的项目。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">输入格式</h2>
<p>第一行三个正整数 $n$，$k$，$t$。</p>
<p>接下来 $n$ 行，每行两个正整数 $a_i$，$b_i$。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">输出格式</h2>
<p>一个整数，即最多能玩的项目数量。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">样例</h2>
<p>### 样例输入1</p>
<pre><code class="language-plain">5 2 20
7 4
10 8
3 3
8 7
9 5
</code></pre>
<p>### 样例输出1</p>
<pre><code class="language-plain">4
</code></pre>
<h2 class="text-2xl font-bold mt-8 mb-4">数据范围</h2>
<p>对于所有数据 $1≤k≤n≤2×10^5,1≤T≤10^{18}, 1≤b_i≤a_i≤10^{12}$</p>
<p>。</p>
<p>对于 $20\%$ 的数据：$n≤10$。</p>
<p>对于 $50\%$ 的数据：$n≤1000$。</p>
<p>对于 $100\%$ 的数据：无特殊限制。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">解法说明</h2>
<p>反悔贪心。</p>
<p>显然，前 $k$ 个肯定是 $b_i$ 能选几个是几个。如果选完后 $t>0$，则应增加一些项目，有以下两种可能：</p>
<p>1. 新加一个 $a_i$</p>
<p>2. 新加一个 $b_i$，并将一个选过的 $b_j$ 换成 $a_j$。</p>
<p>此时我们可以开三个堆，一个存储未选过的 $a_i$，另一个存储未选过的 $b_i$，最后一个存储选过的 $a_j - b_j$。记三个堆堆顶分别为 $u$、$v$、$w$，则如果 $u<v+w$ 选择第一种，否则选择第二种，不停循环直到 $t<0$ 为止。</p>
<h2 class="text-2xl font-bold mt-8 mb-4">通过代码</h2>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;

#define int long long
#define PII pair&lt;int,int&gt;
#define mp make_pair
const int N=2e5+10;

namespace IO{
	inline int read(){
		int x=0,f=1;char ch=getchar();
		while(ch&lt;&apos;0&apos;||ch&gt;&apos;9&apos;) f=(ch==&apos;-&apos;?-1:f),ch=getchar();
		while(ch&gt;=&apos;0&apos;&amp;&amp;ch&lt;=&apos;9&apos;) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48),ch=getchar();
		return x*f;
	}

	inline void write(int x){
		if(x&lt;0) putchar(&apos;-&apos;),x=-x;
		if(x&gt;9) write(x/10);
		putchar(x%10+&apos;0&apos;);
	}
}using namespace IO;

namespace code{
	int n,k,t,ans;
	bool vis[N];
	
	struct node{
		int a,b;
	}a[N];
	
	priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt; &gt; q1,q2,q3;
	
	bool cmp(node x,node y){
		return x.b&lt;y.b;
	}

	void solve(){
		n=read(),k=read(),t=read();
		for(int i=1;i&lt;=n;i++) a[i].a=read(),a[i].b=read();
		sort(a+1,a+n+1,cmp);
		for(int i=1;i&lt;=k&amp;&amp;t&gt;=0;i++,ans++) t-=a[i].b,vis[i]=1;
		if(t&lt;0) return write(ans-1),void();
		for(int i=1;i&lt;=n;i++){
			if(!vis[i]) q1.push(mp(a[i].a,i)),q2.push(mp(a[i].b,i));
			else q3.push(mp(a[i].a-a[i].b,i));
		}
		while(t&gt;0){
			int x=q1.top().second,y=q2.top().second,u,v,w;
			while(vis[x]) q1.pop(),x=q1.top().second;
			while(vis[y]) q2.pop(),y=q2.top().second;
			ans++,u=q1.top().first,v=q2.top().first,w=q3.top().first;
			if(u&lt;v+w) q1.pop(),vis[x]=1,t-=u;
			else q2.pop(),q3.pop(),vis[y]=1,t-=v+w,q3.push(mp(a[y].a-a[y].b,y));
		}
		write(t&lt;0?--ans:ans);
	}
}

signed main(){
	code::solve();
	return 0;
}
</code></pre>

                </article>
            </main>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const reliableApi = 'https://api.waifu.pics/sfw/waifu';
            fetch(reliableApi).then(response => response.json()).then(data => {
                const img = new Image();
                img.src = data.url;
                img.onload = () => { document.body.style.backgroundImage = `url('${data.url}')`; };
            }).catch(() => { document.body.style.backgroundColor = '#f3f4f6'; });
        });
    </script>
</body>
</html>